services:
  - type: web
    name: spring-boot-master
    runtime: java
    buildCommand: mvn clean package -DskipTests
    startCommand: java -Dserver.port=$PORT -Dspring.profiles.active=prod -jar target/spring-boot-master-1.0.0.jar
    plan: free
    env:
      - key: SPRING_PROFILES_ACTIVE
        value: prod
      - key: JAVA_TOOL_OPTIONS
        value: "-Xmx512m -XX:MaxMetaspaceSize=128m"
    healthCheckPath: /api/v1/actuator/health
    domains:
      - spring-boot-master.onrender.com
